# 示例脚本：演示如何批量删除作业

# 注释掉的代码：从日志文件读取作业ID
# with open("./log_id.txt","r",encoding="utf-8") as f:
#     ids = f.readlines()

# 作业名称和ID的映射字典
# dict_id = {'STG_MS_INTER_MARKET_ASSIGN_F_1_10': '682975866233290752', 'STG_MS_INTER_MARKET_CUSTOMER_TEMP_F_1_10': '682975862139650048', 'STG_MS_INTER_MARKET_DELEROSTERCFG_F_1_10': '682975825938612224', 'STG_MS_INTER_MARKET_DELEROSTER_F_1_10': '682975868573712384', 'STG_MS_INTER_MARKET_DICT_F_1_10': '682975856217292800', 'STG_MS_INTER_MARKET_FILE_MESS_F_1_10': '682975817969434624', 'STG_MS_INTER_MARKET_MENU_F_1_10': '682975851972657152', 'STG_MS_INTER_MARKET_MOTOR_ALLOCATE_TRAIL_F_1_10': '682975845567954944', 'STG_MS_INTER_MARKET_MOTOR_INFO_F_1_10': '682975835212218368', 'STG_MS_INTER_MARKET_MOTOR_TRANSFER_DETAIL_F_1_10': '682975829696708608', 'STG_MS_INTER_MARKET_MOTOR_TRANSFER_F_1_10': '682975841537228800', 'STG_MS_INTER_MARKET_REMARK_RECORD_F_1_10': '682975858050203648', 'STG_MS_INTER_MARKET_RENEW_TRAIL_F_1_10': '682975821572341760', 'STG_MS_INTER_MARKET_REPLY_F_1_10': '682975833387696128', 'STG_MS_INTER_MARKET_ROLE_MENU_F_1_10': '682975847656718336', 'STG_MS_INTER_MARKET_SERVICE_DEAL_RESULT_F_1_10': '682975849732898816', 'STG_MS_INTER_MARKET_SERVICE_MAIN_F_1_10': '682975859962806272', 'STG_MS_INTER_MARKET_TASK_ADD_F_1_10': '682975864060641280', 'STG_MS_INTER_MARKET_TASK_APPT_F_1_10': '682975827591168000', 'STG_MS_INTER_MARKET_TASK_BIRTH_F_1_10': '682975823820488704', 'STG_MS_INTER_MARKET_TASK_MOTOR_ALLOCATE_F_1_10': '682975819890425856', 'STG_MS_INTER_MARKET_TASK_RENEW_FENPEI_F_1_10': '682975837154181120', 'STG_MS_INTER_MARKET_TASK_RENEW_NOFENPEI_F_1_10': '682975831558979584', 'STG_MS_INTER_MARKET_TRAIL_FOLLOW_RECORD_F_1_10': '682975854275330048', 'STG_MS_INTER_MARKET_T_DEPT_AGENT_BACK_F_1_10': '682975843537911808', 'STG_MS_INTER_MARKET_T_DEPT_AGENT_F_1_10': '682975839565905920'}

# 导入Dehoop类
from Dehoop import Dehoop

# 初始化Dehoop对象，连接到指定IP和端口
d = Dehoop("10.1.8.17", 30104)
# 设置token
d.token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJkZWhvb3B1c2VyaWQiOiI2NTcyNTM5NTk3NjQ4MDM1ODQiLCJ0ZW5hbnRpZCI6IjY1NjYwOTExODM5OTc1ODMzNiIsImV4cCI6MTc0MTg1MzA2OSwiaWF0IjoxNzQxNTkzODY5fQ.EeaRvlHC36zgcEVyu5R-N1_v9zEK_tLhjDAAig6tOwy3HFFcigLuy8aNG9TnD8vXLgfhu6bdIFxIRPjqbniYjQ"
# 设置用户ID
d.userId = "657253959764803584"
# 设置租户ID
d.tenantid = "656609118399758336"
# 设置项目名称
projectName = "中台-客户管理其他域模型开发"

# 注释掉的代码：通过字典批量删除作业
# for i in dict_id.values():
#     d.DeleteWorkById(projectName,i)

# 注释掉的代码：通过日志文件批量删除作业
# for id in ids:
#     id = id.removesuffix("\n")
#     d.DeleteWorkById(projectName,id)

# 查询项目中的离线作业
d.QueryOutLineWorks(projectName)
